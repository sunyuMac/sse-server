<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>SSE Demo</title>
</head>
<body>
  <h1>SSE Demo</h1>
  <div id="messages"></div>

  <script>
    // 创建 EventSource 对象
    const eventSource = new EventSource("http://127.0.0.1:8082/events?user=user2"); // 替换为你的用户ID

    // 监听 SSE 事件
    eventSource.addEventListener("message", function(event) {
      const message = event.data;

      // 在页面上显示消息
      const messageDiv = document.createElement("div");
      messageDiv.textContent = message;
      document.getElementById("messages").appendChild(messageDiv);
    });
  </script>
</body>
</html>
